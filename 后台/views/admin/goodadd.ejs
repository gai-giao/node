<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <script src="/ckeditor5/ckeditor.js"></script>
    <style>
        *{
            margin: 0;
            padding: 0;
        }
        /* 头部 */
        .navdiv{
            width: 100%;
            height: 50px;
            background-color: #46473F;
            margin: 0;
        }
        .navdiv>.col-xs-1{
            text-align: center;
            height: 50px;
            line-height: 50px;
            color: white;
        }
        .navdiv>.col-xs-1:nth-child(1){
            color: #92928E;
            font-size: 16px;
        }
        .navdiv>.col-xs-1:nth-child(3),.navdiv>.col-xs-1:nth-child(4){
            background-color: #080808;
        }
        /* 侧边 */
        .cargodiv{
            width: 100%;
            margin-top: 30px;
            box-sizing: border-box;
            padding:0 50px;
        }
        .cargodiv .col-xs-2{
            border-radius: 10px;
            border: 1px solid #cccccc;
            border-bottom: none;
            padding: 0;
            overflow: hidden;
        }
        .cargodiv .col-xs-2 p{
            height: 40px;
            line-height: 40px;
            border-bottom: 1px solid #cccccc;
            margin: 0;
            text-indent: 2em;
        }
        .p-lb{
            background-color: #428BCA;
            color: white;
        }
        .cargodiv .col-xs-10 p:nth-child(1){
            width: 100%;
            background-color: #F5F5F5;
            height: 40px;
            line-height: 40px;
            text-indent: 2em;
        }
        .cargodiv .col-xs-10 div:nth-child(2){
            padding-bottom: 10px;
        }
        .col-xs-10-div{
            border: 1px solid #cccccc;
        }
        .cargodiv .col-xs-10 div:nth-child(2) span{
            display: inline-block;
        }
        .cargodiv .col-xs-10 div:nth-child(2) input{
            border-radius: 5px;
            background-color: #fff;
            border: 1px solid #cccccc;
        }
        .cargodiv .col-xs-10 div:nth-child(2) input:nth-child(4){
            width: 100px;
        }
        .table{
            margin-top: 50px;
        }
        .form{
            box-sizing: border-box;
            padding: 0 80px;
        }
        .imgdiv{
            width: 100%;
            display: flex;
            margin-top: 10px;
        }
    </style>
</head>
<body>
    <div class="row navdiv">
        <div class="col-xs-1">LOGO</div>
        <div class="col-xs-1"></div>
        <div class="col-xs-1">商品管理</div>
        <div class="col-xs-1">系统设置</div>
        <div class="col-xs-1"></div>
        <div class="col-xs-1"></div>
        <div class="col-xs-1"></div>
        <div class="col-xs-1"></div>
        <div class="col-xs-1"></div>
        <div class="col-xs-1"></div>
        <div class="col-xs-1">欢迎:<span>admin</span></div>
        <div class="col-xs-1">安全退出</div>
    </div>
    <div class="row cargodiv">
        <div class="col-xs-2">
            <p class="p-lb">用户管理</p>
            <a href="/admin/userlist"><p>用户列表</p></a>
            <a href="/admin/adduser"><p>增加用户</p></a>
            <p class="p-lb">商品管理</p>
            <a href="/admin/goodlist"><p>商品列表</p></a>
            <a href="/admin/goodadd"><p>增加商品</p></a>
            <p class="p-lb">分类管理</p>
            <a href="/admin/goodclass"><p>商品分类列表</p></a>
            <p>增加商品分类</p>
        </div>
        <div class="col-xs-10">
            <p>商品管理/添加商品</p>
            <div class="col-xs-10-div">
                <p>添加商品</p>                                 
                <!--enctype-指定表单数据的编码格式
                multipart/form-data 接受文件类型的数据-->
                <form action="/admin/dogoodadd" method="POST" class="form" enctype="multipart/form-data">
                    <div>
                        <span>商品名称：</span><input type="text" name="goodname">
                    </div>
                    <div>
                        <span>商品分类：</span>
                        <select name="goodcategory_id" id="">
                            <option value="1">男装</option>
                            <option value="2">女装</option>
                            <option value="3">童装</option>
                        </select>
                    </div>
                    <div class="imgdiv">    
                        <span class="img">商品图片 ：</span><input type="file" id="file" name="goodpic" class="inputfile">
                    </div>
                    <div>                   <!--缩略图-->
                        <img src="" alt="" id="thumb" style="width: 100px;">
                    </div>
                    <div>
                        <span>商品价格：</span><input type="text" name="goodmoney">
                    </div>
                    <div>    
                        <span>商品邮费：</span><input type="text" name="goodpostage">
                    </div>
                    <div>    
                        <span>商品描述：</span><br><textarea name="goodMS" id="ckeditor" cols="" rows=""></textarea>
                    </div>
                    <button class="btn btn-default">提交</button>
                </form>
            </div>
        </div>
    </div>
    <script>
        // js实现上传图片预览
        let ckeditor;
        ClassicEditor.create(document.querySelector("#ckeditor"))   //修饰文本组件
        let file = document.querySelector("#file")  //获取上穿图片控件
        let thumb = document.querySelector("#thumb")    //获取展示图片的区域
        file.onchange = function(){
            // 1.创建一个文件读取对象
            let render = new FileReader()
            console.log(this.files[0]);
            // 2.读取文件
            render.readAsDataURL(this.files[0])
            // readAsDataURL 方法会读取指定的 Blob 或 File 对象。
            // 读取操作完成的时候，readyState 会变成已完成DONE，
            // 并触发 loadend 事件，同时 result 属性将包含一个data
            // :URL格式的字符串（base64编码）以表示所读取文件的内容。
            render.onload=function(){
                thumb.src = render.result
            }
        }
    </script>
</body>
</html>